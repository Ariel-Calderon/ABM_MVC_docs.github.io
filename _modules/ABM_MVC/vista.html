<!DOCTYPE html>

<html lang="es" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ABM_MVC.vista &#8212; documentación de pirulo - 0.1</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=5ecbeea2" />
    <link rel="stylesheet" type="text/css" href="../../_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=27fed22d" />
    <script src="../../_static/documentation_options.js?v=9c9b61ad"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/translations.js?v=f85f4cfb"></script>
    <link rel="index" title="Índice" href="../../genindex.html" />
    <link rel="search" title="Búsqueda" href="../../search.html" />
   
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Código fuente para ABM_MVC.vista</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span><span class="w"> </span><span class="nn">tkinter</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">tk</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">tkinter</span><span class="w"> </span><span class="kn">import</span> <span class="n">Menu</span><span class="p">,</span> <span class="n">messagebox</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">tkinter</span><span class="w"> </span><span class="kn">import</span> <span class="n">ttk</span>





<div class="viewcode-block" id="Plantilla">
<a class="viewcode-back" href="../../ABM_MVC.html#ABM_MVC.vista.Plantilla">[documentos]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">Plantilla</span><span class="p">(</span><span class="n">tk</span><span class="o">.</span><span class="n">Toplevel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Clase heredera de tk.Toplevel y SúperClase de las diferentes vistas que gestionarán las operaciones entre la vista del usuario y el controlador.</span>

<span class="sd">    Args:</span>
<span class="sd">        tk (object): Objeto de tkinter.</span>

<span class="sd">    Attributes:</span>
<span class="sd">            clase_objeto(class): Clase heredera de Entidad que será gestionada por el objeto creado.</span>
<span class="sd">            lista_de_widgets(List[List[str,object,bool]]): Lista que contiene listas con el formato [etiqueta,widget,es_campo_clave:bool] que servirá para contruir el formulario una vez que estén declarados los widgets.</span>
<span class="sd">            lista_de_comboboxes(List[List[object,str,List[Any]]]): Lista de comboboxes que representan claves externas (si hubiera un combobox para la clave principal, no se registra en esta lista). La lista contiene [[objeto combox,&quot;campo clave externa en la tabla&quot;,lista de [id]]].</span>
<span class="sd">            clave_principal(List[object] | List[object,List[Any]]): Si la clave principal es ingresada por el usuario deberá usarse un entry, el argumento es una lista con un sólo objeto [objeto entry]. Si se trata de una clave autoincrement en la base de datos, no tendrá un input en el formulario de carga, pero puede seleccionarse con un combobox para modificarse, en este caso el argumento será una lista con dos elementos [objeto combobox, lista de id].</span>
<span class="sd">            campos_obligatorios(List[object]): En esta lista se registran todos los campos obligatorios en la carga, deben agregarse a la lista los objetos widgets, no las variables asociadas.</span>
<span class="sd">            validacion_decimales(Tuple[Callable, str]):Tupla que contiene la función de validación para números decimales y un patrón de formato asociado (&#39;%P&#39;).</span>
<span class="sd">            validacion_enteros(Tuple[Callable, str]):Tupla que contiene una función de validación para números enteros y un patrón de formato asociado (&#39;%P&#39;).</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">parent</span><span class="p">,</span><span class="n">clase_objeto</span><span class="p">,</span><span class="n">modo</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Construye una instancia de clase donde se definen los atributos necesarios para que puedan construirse y gestionarse los los widgets.</span>

<span class="sd">        Args:</span>
<span class="sd">            parent (object): Ventana desde la cual se construye la Plantilla.</span>
<span class="sd">            clase_objeto (class): Clase heredera de Entidad que será gestionada por el objeto creado.</span>
<span class="sd">            modo (str): Objetivo de la ventana/formulario: &quot;guardar&quot;, &quot;modificar&quot; o &quot;borrar&quot;.        </span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clase_objeto</span> <span class="o">=</span> <span class="n">clase_objeto</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">modo</span> <span class="o">=</span> <span class="n">modo</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lista_de_widgets</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1">#[etiqueta,widget,es_campo_clave:bool]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lista_de_comboboxes</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1"># [[objeto combox,&quot;campo clave externa db&quot;,lista de id],] Sin incluir la clave principal</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clave_principal</span> <span class="o">=</span> <span class="p">[]</span> <span class="c1">#[objeto combobox, lista de id] cuando está implementada con un combobox</span>
                                  <span class="c1">#[objeto entry] cuando se trata de una entrada de texto y el valor se obtiene con get</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">campos_obligatorios</span><span class="o">=</span><span class="p">[]</span> <span class="c1">#[campo de entrada] tiene que ser el objeto del input, sea un combobox o un entry simple </span>
        <span class="bp">self</span><span class="o">.</span><span class="n">validacion_decimales</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">solo_decimales_con_coma</span><span class="p">),</span> <span class="s1">&#39;%P&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">validacion_enteros</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">solo_numeros</span><span class="p">),</span><span class="s1">&#39;%P&#39;</span><span class="p">)</span>

<div class="viewcode-block" id="Plantilla.cancelar">
<a class="viewcode-back" href="../../ABM_MVC.html#ABM_MVC.vista.Plantilla.cancelar">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">cancelar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Borra el contenido de los widgets y los switchea de habilitados a deshabilitados al cancelar una acción.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reset_formulario</span><span class="p">()</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">modo</span> <span class="o">==</span> <span class="s2">&quot;modificar&quot;</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">switch_widgets</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reset_formulario</span><span class="p">()</span> <span class="c1">#hay que resetear antes y despues de switchear los widgets</span></div>


<div class="viewcode-block" id="Plantilla.guardar">
<a class="viewcode-back" href="../../ABM_MVC.html#ABM_MVC.vista.Plantilla.guardar">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">guardar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Chequea si los campos obligatorios tienen valores, en ese caso contruye el objeto de la clase gestionada por el formulario, le asigna los valores de los widgets a los respectivos atributos e intenta guardarlo en la base de datos, informando si lo logró o no.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">chequear_campos_obligatorios</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">objeto</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">clase_objeto</span><span class="p">()</span>        
            <span class="bp">self</span><span class="o">.</span><span class="n">objeto</span><span class="o">.</span><span class="n">asignar_valores</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
            <span class="n">guardado</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">objeto</span><span class="o">.</span><span class="n">guardar</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">guardado</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                 <span class="bp">self</span><span class="o">.</span><span class="n">messagebox_temporal</span><span class="p">(</span><span class="s2">&quot;Guardado&quot;</span><span class="p">,</span><span class="n">guardado</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="mi">1500</span><span class="p">)</span>
                 <span class="bp">self</span><span class="o">.</span><span class="n">reset_formulario</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">messagebox_temporal</span><span class="p">(</span><span class="s2">&quot;Error&quot;</span><span class="p">,</span><span class="n">guardado</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="mi">1500</span><span class="p">)</span></div>


<div class="viewcode-block" id="Plantilla.modificar">
<a class="viewcode-back" href="../../ABM_MVC.html#ABM_MVC.vista.Plantilla.modificar">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">modificar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Chequea si los campos obligatorios tienen valores, en ese caso le asigna los valores de los widgets a los atributos del objeto (ya construido cuando fue seleccionado el registro) e intenta relizar el update en la base, informando si lo logró o no.</span>
<span class="sd">        En caso de resultar exitosa la modificación se borran los valores de los widgets y se switchean.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">chequear_campos_obligatorios</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">objeto</span><span class="o">.</span><span class="n">asignar_valores</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">objeto</span><span class="o">.</span><span class="n">modificar</span><span class="p">()</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">messagebox_temporal</span><span class="p">(</span><span class="s2">&quot;Modificado&quot;</span><span class="p">,</span><span class="s2">&quot;El registro fue modificado correctamente.&quot;</span><span class="p">,</span><span class="mi">1500</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">reset_formulario</span><span class="p">()</span> <span class="c1">#se resetean sólo los widgets activos</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">switch_widgets</span><span class="p">()</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">reset_formulario</span><span class="p">()</span> <span class="c1">#se resetean los widgets restantes</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">messagebox_temporal</span><span class="p">(</span><span class="s2">&quot;Error&quot;</span><span class="p">,</span> <span class="s2">&quot;El registro no pudo ser modificado&quot;</span><span class="p">,</span><span class="mi">1500</span><span class="p">)</span></div>


    
<div class="viewcode-block" id="Plantilla.seleccionar">
<a class="viewcode-back" href="../../ABM_MVC.html#ABM_MVC.vista.Plantilla.seleccionar">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">seleccionar</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="nb">id</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Selecciona un registro de la base de datos y completa los widgets del formulario con los valores obtenidos.</span>
<span class="sd">        Si no se ingresa un id, buscará ese dato en el atributo self.clave_principal y completará el resto de los campos con los datos obtenidos.</span>

<span class="sd">        Args:</span>
<span class="sd">            id (Any, optional): Id/clave del registro seleccionado. Defaults to None.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">id</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span> <span class="c1">#Si no recibe el id significa se encuentra en un Combobox o un Entry:</span>
            <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">clave_principal</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">1</span><span class="p">):</span>  <span class="c1">#Si hay dos elementos self.clave_principal &gt; es un Combobox:</span>
                <span class="n">indice</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">clave_principal</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">current</span><span class="p">()</span> 
                <span class="nb">id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">clave_principal</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">indice</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>                              <span class="c1">#Si hay uno sólo &gt; es un Entry:</span>
                <span class="nb">id</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">clave_principal</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">objeto</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">clase_objeto</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">objeto</span><span class="o">.</span><span class="n">completar_campos</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">switch_widgets</span><span class="p">()</span></div>

    
<div class="viewcode-block" id="Plantilla.messagebox_temporal">
<a class="viewcode-back" href="../../ABM_MVC.html#ABM_MVC.vista.Plantilla.messagebox_temporal">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">messagebox_temporal</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">titulo</span><span class="p">,</span> <span class="n">mensaje</span><span class="p">,</span> <span class="n">duracion</span><span class="o">=</span><span class="mi">2000</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Crea una ventana con un mensaje y lo destruye en el tiempo estipulado.</span>

<span class="sd">        Args:</span>
<span class="sd">            titulo (str): Título de la ventana.</span>
<span class="sd">            mensaje (str): Mensaje que se mostrará.</span>
<span class="sd">            duracion (int, optional): Tiempo de duración de la ventana, expresado en milisegundos. Defaults to 2000.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ventana_emergente</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Toplevel</span><span class="p">()</span>
        <span class="n">ventana_emergente</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">titulo</span><span class="p">)</span>
        <span class="n">ventana_emergente</span><span class="o">.</span><span class="n">geometry</span><span class="p">(</span><span class="s2">&quot;300x100&quot;</span><span class="p">)</span>
                
        <span class="n">ventana_emergente</span><span class="o">.</span><span class="n">transient</span><span class="p">()</span>
        <span class="n">ventana_emergente</span><span class="o">.</span><span class="n">grab_set</span><span class="p">()</span>
        
        <span class="n">mensaje_label</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">ventana_emergente</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">mensaje</span><span class="p">,</span> <span class="n">wraplength</span><span class="o">=</span><span class="mi">250</span><span class="p">)</span>
        <span class="n">mensaje_label</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
               
        <span class="n">ventana_emergente</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="n">duracion</span><span class="p">,</span> <span class="n">ventana_emergente</span><span class="o">.</span><span class="n">destroy</span><span class="p">)</span></div>


<div class="viewcode-block" id="Plantilla.reset_formulario">
<a class="viewcode-back" href="../../ABM_MVC.html#ABM_MVC.vista.Plantilla.reset_formulario">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">reset_formulario</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Pone en blanco todos los widgets.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">winfo_children</span><span class="p">():</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Widget detectado: </span><span class="si">{</span><span class="n">widget</span><span class="si">}</span><span class="s2">, Tipo: </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>            
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Combobox</span><span class="p">):</span>                
                <span class="n">widget</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
                <span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;combobox detectado&quot;</span><span class="p">)</span>
            <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">tk</span><span class="o">.</span><span class="n">Entry</span><span class="p">):</span>
                <span class="n">widget</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">tk</span><span class="o">.</span><span class="n">END</span><span class="p">)</span>  
                <span class="nb">print</span> <span class="p">(</span><span class="s2">&quot;entry detectado&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="Plantilla.switch_widgets">
<a class="viewcode-back" href="../../ABM_MVC.html#ABM_MVC.vista.Plantilla.switch_widgets">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">switch_widgets</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Habilita los widgets que están desabilitados y viceversa. En el caso de los comboboxes no se usa el modo &quot;normal&quot; sino &quot;readonly&quot;, es decir que no se permite escribir en ningún caso.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">winfo_children</span><span class="p">():</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">estado_actual</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">widget</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s2">&quot;state&quot;</span><span class="p">))</span>
                <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span><span class="n">ttk</span><span class="o">.</span><span class="n">Combobox</span><span class="p">):</span>
                    <span class="n">nuevo_estado</span> <span class="o">=</span> <span class="s2">&quot;readonly&quot;</span> <span class="k">if</span> <span class="n">estado_actual</span> <span class="o">==</span> <span class="s2">&quot;disabled&quot;</span> <span class="k">else</span> <span class="s2">&quot;disabled&quot;</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">nuevo_estado</span> <span class="o">=</span> <span class="s2">&quot;normal&quot;</span> <span class="k">if</span> <span class="n">estado_actual</span> <span class="o">==</span> <span class="s2">&quot;disabled&quot;</span> <span class="k">else</span> <span class="s2">&quot;disabled&quot;</span>             
                <span class="n">widget</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="n">nuevo_estado</span><span class="p">)</span>
            <span class="k">except</span> <span class="p">(</span><span class="n">tk</span><span class="o">.</span><span class="n">TclError</span><span class="p">,</span> <span class="ne">AttributeError</span><span class="p">):</span>
                <span class="k">pass</span>  </div>


<div class="viewcode-block" id="Plantilla.chequear_campos_obligatorios">
<a class="viewcode-back" href="../../ABM_MVC.html#ABM_MVC.vista.Plantilla.chequear_campos_obligatorios">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">chequear_campos_obligatorios</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Chequea si los widgets incluidos en la lista self.campos_obligatorios tienen valores.</span>
<span class="sd">        En caso de no confirmarse en todos los casos se muestra un mensaje informando los campos vacíos.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: Devuelve True si todos los campos obligatorios tiene valores, o False en caso contrario.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">mensaje</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>  
        <span class="n">check</span> <span class="o">=</span> <span class="kc">True</span> 
        <span class="nb">print</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">campos_obligatorios</span><span class="p">)</span>     
        <span class="k">for</span> <span class="n">campo</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">campos_obligatorios</span><span class="p">:</span>
            <span class="n">variable</span> <span class="o">=</span> <span class="n">campo</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s2">&quot;textvariable&quot;</span><span class="p">)</span>
            <span class="n">valor</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getvar</span><span class="p">(</span><span class="n">variable</span><span class="p">)</span> <span class="c1">#.strip()</span>
            <span class="nb">print</span> <span class="p">(</span><span class="n">valor</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">valor</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">valor</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>                
                <span class="n">mensaje</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;El campo </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">obtener_label</span><span class="p">(</span><span class="n">campo</span><span class="p">)</span><span class="si">}</span><span class="s2"> está vacío</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="n">mensaje</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="n">check</span> <span class="o">=</span> <span class="kc">False</span> 
            <span class="n">messagebox</span><span class="o">.</span><span class="n">showinfo</span><span class="p">(</span><span class="s2">&quot;Falta información&quot;</span><span class="p">,</span> <span class="n">mensaje</span><span class="p">)</span>
            <span class="nb">print</span> <span class="p">(</span><span class="n">mensaje</span><span class="p">)</span>                   
        <span class="k">return</span> <span class="n">check</span></div>



<div class="viewcode-block" id="Plantilla.obtener_label">
<a class="viewcode-back" href="../../ABM_MVC.html#ABM_MVC.vista.Plantilla.obtener_label">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">obtener_label</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">widget_objetivo</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Obtiene y retorna el texto de la etiqueta anterior a un determinado widget.</span>

<span class="sd">        Args:</span>
<span class="sd">            widget_objetivo (object): Widget del cual se quiere obtener la etiqueta.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str | None: Retorna el texto de la etiqueta buscada, o None en caso de no encontrarla.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">info</span> <span class="o">=</span> <span class="n">widget_objetivo</span><span class="o">.</span><span class="n">grid_info</span><span class="p">()</span>
        <span class="n">fila</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="s2">&quot;row&quot;</span><span class="p">])</span>
        <span class="n">columna</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">info</span><span class="p">[</span><span class="s2">&quot;column&quot;</span><span class="p">])</span>
        <span class="n">contenedor</span> <span class="o">=</span> <span class="n">widget_objetivo</span><span class="o">.</span><span class="n">master</span>

        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="n">contenedor</span><span class="o">.</span><span class="n">winfo_children</span><span class="p">():</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">):</span>
                <span class="n">info_label</span> <span class="o">=</span> <span class="n">widget</span><span class="o">.</span><span class="n">grid_info</span><span class="p">()</span>
                <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">info_label</span><span class="p">[</span><span class="s2">&quot;row&quot;</span><span class="p">])</span> <span class="o">==</span> <span class="n">fila</span> <span class="ow">and</span> <span class="nb">int</span><span class="p">(</span><span class="n">info_label</span><span class="p">[</span><span class="s2">&quot;column&quot;</span><span class="p">])</span> <span class="o">==</span> <span class="n">columna</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
                    <span class="k">return</span> <span class="n">widget</span><span class="o">.</span><span class="n">cget</span><span class="p">(</span><span class="s2">&quot;text&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">None</span></div>

    
<div class="viewcode-block" id="Plantilla.solo_decimales_con_coma">
<a class="viewcode-back" href="../../ABM_MVC.html#ABM_MVC.vista.Plantilla.solo_decimales_con_coma">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">solo_decimales_con_coma</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">texto</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Valida el ingreso de números decimales usando una sola coma (no punto) como separador.</span>

<span class="sd">        Args:</span>
<span class="sd">            texto (str): texto a evaluar.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: False si no se cumple la condición y verdadero en caso contrario.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">texto</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">if</span> <span class="n">texto</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="nb">float</span><span class="p">(</span><span class="n">texto</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="s2">&quot;.&quot;</span><span class="p">))</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>

        
<div class="viewcode-block" id="Plantilla.solo_numeros">
<a class="viewcode-back" href="../../ABM_MVC.html#ABM_MVC.vista.Plantilla.solo_numeros">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">solo_numeros</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">texto</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Evalúa si una cadena de texto es un núemro entero.</span>

<span class="sd">        Args:</span>
<span class="sd">            texto (str): Texto a evaluar.</span>

<span class="sd">        Returns:</span>
<span class="sd">            bool: False si no se cumple la condición y verdadero en caso contrario.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">texto</span><span class="o">.</span><span class="n">isdigit</span><span class="p">()</span> <span class="ow">or</span> <span class="n">texto</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span>    </div>




<div class="viewcode-block" id="Plantilla.crear_entry">
<a class="viewcode-back" href="../../ABM_MVC.html#ABM_MVC.vista.Plantilla.crear_entry">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">crear_entry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obligatorio</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span> <span class="n">etiqueta</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">nombre_campo</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span> <span class="n">validacion</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Crea un widget Entry de tkinter, junto con la etiqueta, en caso de haber una regla de validación se agrega en la construcción del Entry.</span>
<span class="sd">        Agrega el respectivo objeto a la lista self.lista_de_widgets para que pueda ser gestionado por otros métodos.</span>
<span class="sd">        Agrega el widget a la lista self.clave_principal en caso de inferir, por el nombre de campo, que es la clave principal.</span>
<span class="sd">        Agrega el widget a la lista self.campos_obligatorios en caso que así estuviera definido.</span>


<span class="sd">        Args:</span>
<span class="sd">            obligatorio (bool): Indica si es obligatorio completar el campo.</span>
<span class="sd">            etiqueta (str): Texto de la etiqueta que se mostrará junto al widget.</span>
<span class="sd">            nombre_campo (str): Nombre del campo en la base de datos al que apuntará el widget y por lo tanto también es el nombre del respectivo atributo de la entidad gestionada.</span>
<span class="sd">            validacion (str, optional): Tipo de validación, &quot;decimales&quot; o &quot;enteros&quot;, no se ingresa argumento si no se requiere validación. Defaults to None.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">parametros</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">clase_objeto</span><span class="o">.</span><span class="n">ver_parametros</span><span class="p">()</span> <span class="c1">#se obtienen el nombre de la tabla y el campo clave a través de un método de clase</span>
        <span class="n">tabla</span> <span class="o">=</span> <span class="n">parametros</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1">#evaluar esta línea</span>
        <span class="n">campo_clave</span> <span class="o">=</span> <span class="n">parametros</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

        <span class="n">etiqueta</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">etiqueta</span><span class="p">)</span>
        <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">nombre_campo</span><span class="p">,</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">())</span>
        <span class="n">variable</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre_campo</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">validacion</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">validacion</span> <span class="o">==</span> <span class="s2">&quot;decimales&quot;</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">nombre_campo</span> <span class="o">+</span> <span class="s2">&quot;_entrada&quot;</span><span class="p">,</span> <span class="n">tk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">textvariable</span><span class="o">=</span><span class="n">variable</span><span class="p">,</span><span class="n">validate</span><span class="o">=</span><span class="s2">&quot;key&quot;</span><span class="p">,</span><span class="n">validatecommand</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">validacion_decimales</span><span class="p">))</span>
            <span class="k">elif</span> <span class="n">validacion</span> <span class="o">==</span> <span class="s2">&quot;enteros&quot;</span><span class="p">:</span>
                <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">nombre_campo</span> <span class="o">+</span> <span class="s2">&quot;_entrada&quot;</span><span class="p">,</span> <span class="n">tk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">textvariable</span><span class="o">=</span><span class="n">variable</span><span class="p">,</span><span class="n">validate</span><span class="o">=</span><span class="s2">&quot;key&quot;</span><span class="p">,</span><span class="n">validatecommand</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">validacion_enteros</span><span class="p">))</span>            
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">nombre_campo</span> <span class="o">+</span> <span class="s2">&quot;_entrada&quot;</span><span class="p">,</span> <span class="n">tk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">textvariable</span><span class="o">=</span><span class="n">variable</span><span class="p">))</span>

        <span class="n">entry</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">nombre_campo</span> <span class="o">+</span> <span class="s2">&quot;_entrada&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">campo_clave</span> <span class="o">==</span> <span class="n">nombre_campo</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">clave_principal</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">obligatorio</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">campos_obligatorios</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">entry</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">lista_de_widgets</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">etiqueta</span><span class="p">,</span><span class="n">entry</span><span class="p">,(</span><span class="n">campo_clave</span><span class="o">==</span><span class="n">nombre_campo</span><span class="p">)])</span></div>


  
        


<div class="viewcode-block" id="Plantilla.crear_combobox">
<a class="viewcode-back" href="../../ABM_MVC.html#ABM_MVC.vista.Plantilla.crear_combobox">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">crear_combobox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obligatorio</span><span class="p">:</span><span class="nb">bool</span><span class="p">,</span> <span class="n">etiqueta</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">nombre_campo</span><span class="p">:</span><span class="nb">str</span><span class="p">,</span><span class="n">campo_para_mostrar</span><span class="o">=</span><span class="s2">&quot;descripcion&quot;</span><span class="p">,</span><span class="n">campo_para_guardar</span><span class="o">=</span><span class="s2">&quot;id&quot;</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Crea un widget Combobox de tkinter, junto con la etiqueta. En este caso no hay reglas de validación ya que el combobox tendrá el status de &quot;readonly&quot; o &quot;disabled&quot;, por lo tanto sólo podrá seleccionar, no escribir.</span>
<span class="sd">        Agrega el respectivo objeto a la lista self.lista_de_widgets para que pueda ser gestionado por otros métodos.</span>
<span class="sd">        Agrega el widget a la lista self.clave_principal en caso de inferir, por el nombre de campo, que es la clave principal, en caso contrario lo agrega a self.lista_de_comboboxes.</span>
<span class="sd">        Agrega el widget a la lista self.campos_obligatorios en caso que así estuviera definido.</span>

<span class="sd">        Args:</span>
<span class="sd">            obligatorio (bool): Indica si es obligatorio completar el campo.</span>
<span class="sd">            etiqueta (str): Texto de la etiqueta que se mostrará junto al widget.</span>
<span class="sd">            nombre_campo (str): Nombre del campo de la tabla al que apuntará el widget que, en caso de ser una clave externa, deberá coincidir con el nombre de la tabla vinculada a través del mismo.</span>
<span class="sd">            campo_para_mostrar (str, optional): En caso de que usemos este combobox para una clave externa, en este argumento declaramos el nombre del campo que se mostrará, de la tabla vinculada. Defaults to &quot;descripcion&quot;.</span>
<span class="sd">            campo_para_guardar (str, optional): Al igual que lo mencionado para el argumento anterior, aquí declaramos el campo de la tabla relacionada que contiene los ids, estos son los valores que se guardan efectivamente en el campo de la tabla-entidad que estamos gestionando. Defaults to &quot;id&quot;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">parametros</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">clase_objeto</span><span class="o">.</span><span class="n">ver_parametros</span><span class="p">()</span>
        <span class="n">tabla</span> <span class="o">=</span> <span class="n">parametros</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">campo_clave</span> <span class="o">=</span> <span class="n">parametros</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">modulo</span> <span class="o">=</span> <span class="n">parametros</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

        <span class="n">es_clave</span> <span class="o">=</span> <span class="p">(</span><span class="n">campo_clave</span><span class="o">==</span><span class="n">nombre_campo</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">modo</span> <span class="o">!=</span> <span class="s2">&quot;guardar&quot;</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">es_clave</span><span class="p">:</span>                
            <span class="k">if</span> <span class="n">es_clave</span><span class="p">:</span>
                <span class="n">lista_clase</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">modulo</span><span class="p">,</span> <span class="s2">&quot;Lista&quot;</span> <span class="o">+</span> <span class="n">tabla</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">lista_clase</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">modulo</span><span class="p">,</span> <span class="s2">&quot;Lista&quot;</span> <span class="o">+</span> <span class="n">nombre_campo</span><span class="p">)</span>
            <span class="n">lista_objeto</span><span class="o">=</span><span class="n">lista_clase</span><span class="p">()</span>
            <span class="n">lista_mostrar</span><span class="o">=</span> <span class="n">lista_objeto</span><span class="o">.</span><span class="n">listar_columnas</span><span class="p">([</span><span class="n">campo_para_mostrar</span><span class="p">])</span>
            <span class="n">lista_guardar</span><span class="o">=</span><span class="n">lista_objeto</span><span class="o">.</span><span class="n">listar_columnas</span><span class="p">([</span><span class="n">campo_para_guardar</span><span class="p">])</span>

            <span class="n">etiqueta</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">etiqueta</span><span class="p">)</span>
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">nombre_campo</span> <span class="o">+</span> <span class="s2">&quot;_variable&quot;</span><span class="p">,</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">())</span>
            <span class="n">variable</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nombre_campo</span> <span class="o">+</span> <span class="s2">&quot;_variable&quot;</span><span class="p">)</span>
                    
            <span class="nb">setattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">nombre_campo</span> <span class="o">+</span> <span class="s2">&quot;_entrada&quot;</span><span class="p">,</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Combobox</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">textvariable</span><span class="o">=</span><span class="n">variable</span><span class="p">,</span><span class="n">values</span><span class="o">=</span><span class="n">lista_mostrar</span><span class="p">,</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;readonly&quot;</span><span class="p">))</span>
            <span class="n">combobox</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">nombre_campo</span> <span class="o">+</span> <span class="s2">&quot;_entrada&quot;</span><span class="p">)</span>
            <span class="n">combobox</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>  
            <span class="k">if</span> <span class="n">es_clave</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">clave_principal</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">combobox</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">clave_principal</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lista_guardar</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">lista_de_comboboxes</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">combobox</span><span class="p">,</span><span class="n">nombre_campo</span><span class="p">,</span><span class="n">lista_guardar</span><span class="p">])</span>

            <span class="k">if</span> <span class="n">obligatorio</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">campos_obligatorios</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">combobox</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">lista_de_widgets</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">etiqueta</span><span class="p">,</span><span class="n">combobox</span><span class="p">,</span><span class="n">es_clave</span><span class="p">])</span></div>



    

<div class="viewcode-block" id="Plantilla.render_formulario_ABM">
<a class="viewcode-back" href="../../ABM_MVC.html#ABM_MVC.vista.Plantilla.render_formulario_ABM">[documentos]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">render_formulario_ABM</span> <span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Asigna una ubicación a los widgets creados y agrega los botones para Guardar, Seleccionar, Modificar, Borrar y Cancelar.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">fila</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">widget</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">lista_de_widgets</span><span class="p">:</span>
            <span class="n">widget</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">fila</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">sticky</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">)</span>
            <span class="n">widget</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">fila</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>  
            <span class="k">if</span> <span class="n">widget</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">modo</span><span class="o">==</span><span class="s2">&quot;modificar&quot;</span><span class="p">:</span>
                    <span class="n">widget</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span> 
                    <span class="n">widget</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span>          
                    <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Seleccionar&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">seleccionar</span><span class="p">,</span><span class="n">state</span><span class="o">=</span><span class="s2">&quot;disabled&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">fila</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
            <span class="n">fila</span> <span class="o">+=</span> <span class="mi">1</span>

        <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Cancelar&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">cancelar</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">fila</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="k">if</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">modo</span><span class="o">==</span><span class="s2">&quot;guardar&quot;</span><span class="p">):</span>            
            <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Guardar&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">guardar</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">fila</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Modificar&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">modificar</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">row</span><span class="o">=</span><span class="n">fila</span><span class="p">,</span> <span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">columnspan</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">switch_widgets</span><span class="p">()</span></div>
</div>

            
</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../index.html">pirulo</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Ir a" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navegación</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../modules.html">ABM_MVC</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">Código de módulo</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2025, ariel.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.1.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
    </div>

    

    
  </body>
</html>